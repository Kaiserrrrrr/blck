const cn="blck",a=["./","./index.html","./src/style.css","./src/script.js","./src/manifest.json","./src/favicon.ico","./src/icon192.png","./src/icon512.png","./src/lofi_am.mp3","./src/lofi_pm.mp3"];self.addEventListener("install",e=>{e.waitUntil(caches.open(cn).then(e=>e.addAll(a)).then(()=>self.skipWaiting()))}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>e.startsWith("blck")&&e!==cn).map(e=>caches.delete(e)))).then(()=>self.clients.claim()))}),self.addEventListener("fetch",s=>{s.request.url.startsWith("http")&&s.respondWith(caches.match(s.request).then(e=>e||fetch(s.request).then(e=>{if(e&&200===e.status&&"basic"===e.type){const t=e.clone();caches.open(cn).then(e=>{e.put(s.request,t)})}return e})))});
