"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js")});const body=document.body,bg=document.getElementById("audio");function enterFullScreen(){body.requestFullscreen?body.requestFullscreen():body.mozRequestFullScreen?body.mozRequestFullScreen():body.webkitRequestFullscreen?body.webkitRequestFullscreen():body.msRequestFullscreen&&body.msRequestFullscreen()}function exitFullScreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),bg&&(bg.pause(),bg.muted=!0)}bg.volume=.3,body.addEventListener("dblclick",()=>{(document.fullscreenElement?exitFullScreen:enterFullScreen)()}),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement?bg&&(bg.muted=!1,bg.volume=.3,bg.play()):bg&&(bg.pause(),bg.muted=!0)}),document.addEventListener("DOMContentLoaded",function(){const l=document.getElementById("audio");let e=null;function u(){var e=(new Date).getHours();let n;if(n=0<=e&&e<12?"./src/lofi_am.mp3":"./src/lofi_pm.mp3",!l.src.endsWith(n)){e=!l.paused;const t=l.currentTime;l.src=n,l.load(),e&&l.play().then(()=>{l.currentTime=t})}}l.pause;l.pause=function(){e=e||setInterval(()=>{.05<l.volume?l.volume-=.05:(l.volume=0,l.pause(),clearInterval(e),e=null)},50)};const n=l.play;l.play=function(){return clearInterval(e),e=null,l.muted||(l.volume=.3),n.apply(this,arguments)},u(),function e(){var n=new Date,t=n.getMinutes(),l=n.getSeconds(),n=n.getMilliseconds();setTimeout(()=>{u(),e()},60*(60-t)*1e3-1e3*l-n)}()});
